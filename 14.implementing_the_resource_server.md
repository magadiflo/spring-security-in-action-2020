# [Pág. 338] Capítulo 14 - OAuth 2: Implementación del servidor de recursos

**El servidor de recursos es el componente que gestiona los recursos de los usuarios.** El nombre servidor de recursos
puede no ser sugerente para empezar, pero **en términos de OAuth 2, representa el backend que protege** como cualquier
otra aplicación que aseguramos en los capítulos anteriores.

¿Recuerda, por ejemplo, el servidor de lógica empresarial que implementamos en el capítulo 11? Para permitir que un
cliente acceda a los recursos, el servidor de recursos requiere un token de acceso válido. Un cliente obtiene un token
de acceso del servidor de autorización y lo usa para solicitar recursos en el servidor de recursos agregando el token a
los encabezados de solicitud HTTP. La figura 14.1 proporciona un repaso del capítulo 12, que muestra el lugar del
servidor de recursos en la arquitectura de autenticación OAuth 2.

![figure-14-1](./assets/figure-14-1.png)

En este capítulo, aprenderá a implementar el servidor de recursos. Pero lo que es más importante **cuando se habla de la
implementación del servidor de recursos es elegir cómo el servidor de recursos valida los tokens.** Tenemos múltiples
opciones para implementar la validación de tokens a nivel del servidor de recursos. Describiré brevemente las **tres
opciones** y luego las detallaré una por una.

La primera opción permite que el **servidor de recursos llame directamente al servidor de autorizaciones** para
verificar un token emitido. La figura 14.2 muestra esta opción.

![figure-14-2](./assets/figure-14-2.png)

**La segunda opción utiliza una base de datos común** donde el servidor de autorización almacena tokens, y luego el
servidor de recursos puede acceder y validar los tokens (figura 14.3). Este enfoque también se denomina pizarra.

![figure-14-3](./assets/figure-14-3.png)

Finalmente, **la tercera opción utiliza firmas criptográficas** (figura 14.4). El **servidor de autorización firma el
token** cuando lo emite y el **servidor de recursos valida la firma.** Aquí es donde generalmente usamos
JSON Web Tokens (JWT). Discutimos este enfoque en el capítulo 15.

![figure-14-4](./assets/figure-14-4.png)

