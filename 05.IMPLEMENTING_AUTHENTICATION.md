# [Pág. 102] Capítulo 05 - Implementar la autenticación

## Entendiendo el AuthenticationProvider

La capa AuthenticationProvider, es la responsable de la lógica de autenticación. **El AuthenticationProvider** es
donde encuentra las condiciones e instrucciones que deciden si autenticar una solicitud o no.

Solo hay dos posibles resultados:

1. **La entidad que realiza la solicitud no está autenticada.** El usuario no es reconocido, y la aplicación rechaza la
   solicitud sin delegar al proceso de autorización. Por lo general, en este caso, el estado de respuesta que se
   devuelve al cliente es **HTTP 401 Unauthorized.**
2. **La entidad que realiza la solicitud está autenticada.** Los detalles sobre el solicitante se almacenan de manera
   que la aplicación pueda utilizarlos para la autorización. Como descubrirá en este capítulo, la interfaz
   SecurityContext es la instancia que almacena los detalles sobre la solicitud autenticada actualmente.

## Representación de la solicitud durante la autenticación

**El Authentication** es una de las interfaces esenciales involucradas en el proceso de autenticación. La interfaz de
autenticación representa el evento de solicitud de autenticación y contiene los detalles de la entidad que solicita
acceso a la aplicación. Puede utilizar la información relacionada con el evento de solicitud de autenticación durante y
después del proceso de autenticación. **El usuario que solicita acceso a la aplicación se denomina PRINCIPAL**. La
interfaz de autenticación de Spring Security amplía la interfaz Principal.

![Authentication-inherits-from-principal](./assets/Authentication-inherits-from-principal.png)

Por el momento, los únicos métodos de este contrato que necesitas aprender son estos:

- **isAuthenticated():** devuelve verdadero si el proceso de autenticación finaliza o falso si el proceso de
  autenticación aún está en curso.
- **getCredentials():** devuelve una contraseña o cualquier secreto utilizado en el proceso de autenticación (password,
  fingerprint, sms code, etc.)
- **getAuthorities():** devuelve una colección de autorizaciones otorgadas para la solicitud autenticada.