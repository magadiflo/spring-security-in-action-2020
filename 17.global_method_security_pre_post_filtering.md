# [Pág. 413] Capítulo 17 - Seguridad global del método: pre y post filtrado

En el capítulo 16, aprendió cómo aplicar reglas de autorización usando seguridad de método global. Trabajamos en
ejemplos usando las anotaciones **@PreAuthorize y @PostAuthorize**. Al usar estas anotaciones, aplica un enfoque en el
que la aplicación permite la llamada al método o la rechaza por completo. **Suponga que no quiere prohibir la llamada
a un método, pero quiere asegurarse de que los parámetros enviados sigan algunas reglas**. O, en otro escenario, quiere
asegurarse de que después de que alguien llame al método, la persona que llama al método solo reciba una parte
autorizada del valor devuelto. **Llamamos filtrado de funcionalidad a este tipo y lo clasificamos en dos categorías:**

- **Prefiltering**, el framework filtra los valores de los parámetros antes de llamar al método.
- **Postfiltering**, el framework filtra el valor devuelto después de la llamaa al método.

![figure-17-1](./assets/figure-17-1.png)

El filtrado funciona de manera diferente a la autorización de llamadas (figura 17.1). Con el filtrado, el marco ejecuta
la llamada y no lanza una excepción si un parámetro o valor devuelto no sigue una regla de autorización que defina. En
su lugar, filtra los elementos que no siguen las condiciones que especificas.

**Es importante mencionar desde el principio que solo puede aplicar filtros a colecciones y matrices.** Utiliza el
prefiltrado solo si el método recibe como parámetro una matriz o una colección de objetos. El marco filtra esta
colección o matriz de acuerdo con las reglas que defina. Lo mismo para el filtrado posterior: solo puede aplicar este
enfoque si el método devuelve una colección o una matriz. El marco filtra el valor que devuelve el método en función de
las reglas que especifique.

